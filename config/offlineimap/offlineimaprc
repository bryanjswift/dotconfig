# vim: set ft=conf:
# For Homebrew installation see /usr/local/Cellar/offline-imap/6.5.5/offlineimap.conf
[general]
# Basic Settings
accounts = fastmail, gmail, lynrco, knightstmpvar, siberia
maxsyncaccounts = 1
ui = ttyui
#ui = blinkenlights
# Advanced Settings
pythonfile=~/.offlineimap/helpers.py
fsync = False

[Account lynrco]
# Basic Settings
localrepository = lynrco-local
remoterepository = lynrco-remote
# Advanced Settings
status_backend = sqlite
#postsynchook = notmuch new    # Used to locally index email

[Account fastmail]
localrepository = fastmail-local
remoterepository = fastmail-remote
status_backend = sqlite

[Account gmail]
localrepository = gmail-local
remoterepository = gmail-remote
status_backend = sqlite

[Account knightstmpvar]
localrepository = knightstmpvar-local
remoterepository = knightstmpvar-remote
status_backend = sqlite

[Account siberia]
localrepository = siberia-local
remoterepository = siberia-remote
status_backend = sqlite

[Account swiftwork]
localrepository = swiftwork-local
remoterepository = swiftwork-remote
status_backend = sqlite

[Account wondersauce]
localrepository = wondersauce-local
remoterepository = wondersauce-remote
status_backend = sqlite

[Repository lynrco-local]
type = Maildir
localfolders = /Volumes/Mail/lynr.co/bryan
nametrans = lambda folder: fastmail_local(folder)

[Repository lynrco-remote]
type = IMAP
ssl = yes
cert_fingerprint = 958b1601563aef92607a41eb5bad22e3cace8431
maxconnections = 1
remotehost = mail.messagingengine.com
remoteuser = bryan@lynr.co
remotepasseval = get_keychain_pass(account="bryan@lynr.co", server="mail.messagingengine.com")
nametrans = lambda folder: fastmail_remote(folder)

[Repository fastmail-local]
type = Maildir
localfolders = /Volumes/Mail/fastmail.fm/bryanjswift
nametrans = lambda folder: fastmail_local(folder)

[Repository fastmail-remote]
maxconnections = 1
type = IMAP
ssl = yes
cert_fingerprint = 958b1601563aef92607a41eb5bad22e3cace8431
remotehost = mail.messagingengine.com
remoteuser = bryanjswift@fastmail.fm
remotepasseval = get_keychain_pass(account="bryanjswift@fastmail.fm", server="mail.messagingengine.com")
nametrans = lambda folder: fastmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)

[Repository gmail-local]
type = Maildir
localfolders = /Volumes/Mail/gmail.com/bryanjswift
nametrans = lambda folder: gmail_local(folder)

[Repository gmail-remote]
auth_mechanisms = GSSAPI, CRAM-MD5, PLAIN, LOGIN
maxconnections = 1
type = Gmail
ssl = yes
sslcacertfile = /Volumes/Mail/ca-bundle.crt
remotehost = imap.gmail.com
remoteuser = bryan.j.swift@gmail.com
remotepasseval = get_keychain_pass(account="bryan.j.swift@gmail.com", server="imap.gmail.com")
nametrans = lambda folder: gmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)

[Repository knightstmpvar-local]
type = Maildir
localfolders = /Volumes/Mail/knightstmpvar.com/bryan
nametrans = lambda folder: fastmail_local(folder)

[Repository knightstmpvar-remote]
maxconnections = 1
type = IMAP
ssl = yes
cert_fingerprint = 958b1601563aef92607a41eb5bad22e3cace8431
remotehost = mail.messagingengine.com
remoteuser = bryan@knightstmpvar.com
remotepasseval = get_keychain_pass(account="bryan@knightstmpvar.com", server="mail.messagingengine.com")
nametrans = lambda folder: fastmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)

[Repository siberia-local]
type = Maildir
localfolders = /Volumes/Mail/siberia.io/bryan
nametrans = lambda folder: gmail_local(folder)

[Repository siberia-remote]
auth_mechanisms = GSSAPI, CRAM-MD5, PLAIN, LOGIN
maxconnections = 1
type = Gmail
ssl = yes
sslcacertfile = /Volumes/Mail/ca-bundle.crt
remotehost = imap.gmail.com
remoteuser = bryan@siberia.io
remotepasseval = get_keychain_pass(account="bryan@siberia.io", server="imap.gmail.com")
nametrans = lambda folder: gmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)

[Repository swiftwork-local]
type = Maildir
localfolders = /Volumes/Mail/swift-work.com/bswift
nametrans = lambda folder: gmail_local(folder)

[Repository swiftwork-remote]
maxconnections = 1
type = Gmail
ssl = yes
sslcacertfile = /Volumes/Mail/ca-bundle.crt
remotehost = imap.gmail.com
remoteuser = bswift@swift-work.com
remotepasseval = get_keychain_pass(account="bswift@swift-work.com", server="imap.gmail.com")
nametrans = lambda folder: gmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)

[Repository wondersauce-local]
type = Maildir
localfolders = /Volumes/Mail/wondersauce.com/bryan
nametrans = lambda folder: gmail_local(folder)

[Repository wondersauce-remote]
maxconnections = 1
type = Gmail
ssl = yes
sslcacertfile = /Volumes/Mail/ca-bundle.crt
remotehost = imap.gmail.com
remoteuser = bryan@wondersauce.com
remotepasseval = get_keychain_pass(account="bryan@wondersauce.com", server="imap.gmail.com")
nametrans = lambda folder: gmail_remote(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)
folderfilter = lambda folder: not is_airmail_folder(folder)
