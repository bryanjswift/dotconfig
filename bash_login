###### Prompt Setup ######
function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e "/^[^*]/d" -e "s/* \(.*\)/[\1$(parse_git_dirty)]/"
}
function parse_git_dirty {
  [[ $(git status 2> /dev/null | tail -n1) != "nothing to commit (working directory clean)" ]] && echo "*"
}
 
function gitPrompt {
	PS1="\h\[\033[0;33m\] \w\[\033[00m\]\$(parse_git_branch): "
	PS2='> '
	PS4='+ '
}
gitPrompt

###### Command Line ######
set -o vi

###### Environment Variables ######
# environment variables for Java development
export JAVA_HOME=/usr/lib/jvm/java-1.6.0-openjdk
export SCALA_HOME=$HOME/Documents/src/scala/scala-2.7.7.final
export MAVEN_HOME=$HOME/Documents/src/java/apache-maven-2.2.1
export M2_REPOSITORY=$HOME/.m2/repository
export ANT_HOME=$HOME/Documents/src/java/apache-ant-1.7.1
export CLOJURE_EXT=$HOME/Documents/src/clojure/clojure-classpath
export GAE_HOME=$HOME/Documents/src/gae/appengine-java-sdk-1.2.6
# catalog files for compiling man pages
export XML_CATALOG_FILES="/usr/share/xml/docbook/schema/dtd/4.5/catalog.xml /usr/share/xml/docbook/stylesheet/docbook-xsl/catalog.xml"
# svn variables
export SVN_EDITOR=vim
export VISUAL=vim

###### Aliases ######
alias yuicompress='java -jar $HOME/Documents/Code/yuicompressor-2.4.2/build/yuicompressor-2.4.2.jar'
alias appcfg='$GAE_HOME/bin/appcfg.sh'
alias dev_appserver='$GAE_HOME/bin/dev_appserver.sh'

###### Path ######
# add /usr/local/bin to the path
export PATH=/usr/local/bin:$PATH
# add maven to the path
export PATH=$MAVEN_HOME/bin:$PATH
# add ant to the path
export PATH=$ANT_HOME/bin:$PATH
# add scala to the path
export PATH=$SCALA_HOME/bin:$PATH
# where to find compiled man pages
export MANPATH=/usr/local/man:$MANPATH
