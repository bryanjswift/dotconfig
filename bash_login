###### Prompt Setup ######
function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e "/^[^*]/d" -e "s/* \(.*\)/[\1$(parse_git_dirty)]/"
}
function parse_git_dirty {
  [[ $(git status 2> /dev/null | tail -n1) != "nothing to commit (working directory clean)" ]] && echo "*"
}
 
function gitPrompt {
	PS1="\h\[\033[0;33m\] \w\[\033[00m\]\$(parse_git_branch): "
	PS2='> '
	PS4='+ '
}
gitPrompt

###### Command Line ######
set -o vi

###### Environment Variables ######
# environment variables for JVM development
export CELLAR=`brew --cellar`
export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home
export SCALA_HOME=$HOME/Documents/src/scala/scala-2.8.0.final
export MAVEN_HOME=$HOME/Documents/src/java/maven-2.0.10
export NODE_HOME=/usr/local/Cellar/node/0.2.0
export M2_REPOSITORY=$HOME/.m2/repository
export ANT_HOME=$HOME/Documents/src/java/ant-1.7.1
export CLOJURE_EXT=$HOME/Documents/src/clojure/clojure-classpath
export ANDROID_SDK=$HOME/Documents/src/java/android-sdk-mac_86
export GAE_SDK=$HOME/Documents/src/gae/appengine-java-sdk-1.3.3
export EC2_HOME=$HOME/.ec2
export EC2_PRIVATE_KEY=`ls $EC2_HOME/pk-*.pem`
export EC2_CERT=`ls $EC2_HOME/cert-*.pem`
export EC2_ACCESS=`cat $EC2_HOME/access.key`
export EC2_SECRET=`cat $EC2_HOME/secret.key`
export REBEL_HOME=$HOME/Documents/src/java/jrebel
# catalog files for compiling man pages
export XML_CATALOG_FILES="/opt/local/share/xml/docbook/4.2/catalog.xml /opt/local/share/xsl/docbook-xsl/catalog.xml"
# svn variables
export SVN_EDITOR=vim
export VISUAL=vim

###### Aliases ######
alias regex='java -classpath $HOME/Documents/code/java/javaregexdemo/classes/ regexdemo.AppRegexDemo'
alias yuicompress='java -jar $HOME/Documents/code/java/yuicompressor-2.4.2/build/yuicompressor-2.4.2.jar'
alias trash='trash'
alias appcfg='$GAE_SDK/bin/appcfg.sh'
alias dev_appserver='$GAE_SDK/bin/dev_appserver.sh'
alias closure-compiler='java -jar $HOME/Documents/src/java/closure-compiler/compiler.jar'
alias packager='$HOME/Documents/code/mootools/packager/packager'

###### Path ######
# add scala, maven, ant, gems, mysql to the path
export ORIG_PATH=$PATH
export PATH=/usr/local/bin:$MAVEN_HOME/bin:$EC2_HOME/bin:$NODE_HOME/bin:$ANDROID_SDK/tools:$SCALA_HOME/bin:$ANT_HOME/bin:$REBEL_HOME/bin:/usr/local/mysql/bin:$PATH
# where to find compiled man pages
export MANPATH=/usr/local/man:/usr/local/Cellar/node/0.2.0/share/man:$MANPATH
