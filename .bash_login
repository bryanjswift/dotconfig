###### Prompt Setup ######
function parse_git_branch {
	git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/[\1]/'
}
 
function gitPrompt {
	PS1="\h:\W\$(parse_git_branch) \u\$ "
	PS2='> '
	PS4='+ '
}
gitPrompt

###### Setup trash function ######
function trash {
	# taken from http://blog.vicshih.com/2008/04/move-to-trash-from-mac-command-line.html
	while [ -n "$1" ]; do
		local file=`basename "$1"`
		# Chop trailing '/' if there
		file=${file%/}

		local destination=""

		if [ -e "$HOME/.Trash/$file" ]; then
			# Extract file and extension
			local ext=`expr "$file" : ".*\(\.[^\.]*\)$"`
			local base=${file%$ext}

			# Add a space between base and timestamp
			test -n "$base" && base="$base "

			destination="/$base`date +%H-%M-%S`_$RANDOM$ext"
		fi  

		echo "Moving '$1' to '$HOME/.Trash$destination'"
		mv "$1" "$HOME/.Trash$destination"
		shift
	done
}

###### Aliases ######
alias regex='java -classpath /Users/bryanjswift/Documents/Code/javaregexdemo/classes/ regexdemo.AppRegexDemo'
alias yuicompress='java -jar /Users/bryanjswift/Documents/Code/yuicompressor-2.4.2/build/yuicompressor-2.4.2.jar'
alias trash='trash'

###### Path ######
# add local bin, local sbin and postgres to the path
export PATH=/usr/local/bin:/usr/local/sbin:/usr/local/pgsql/bin:$PATH
# add maven to the path
export PATH=$PATH:/Developer/Java/maven-2.0.6/bin
# add ant to the path
export PATH=$PATH:/usr/share/ant/bin
# add flex3sdk to the path
export PATH=$PATH:/Users/bryanjswift/Library/Frameworks/flex3sdk/bin
# darwin ports
export PATH=$PATH:/opt/local/bin
# mercurial
export PATH=$PATH:/Users/bryanjswift/bin
export PYTHONPATH=/Users/bryanjswift/lib/python

###### Environment Variables ######
# declare environment variables
export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home
export MAVEN_HOME=/Developer/Java/maven-2.0.6
export ANT_HOME=/usr/share/ant/
export MANPATH=/usr/local/man:$MANPATH
# catalog files for compiling man pages
export XML_CATALOG_FILES="/opt/local/share/xml/docbook/4.2/catalog.xml /opt/local/share/xsl/docbook-xsl/catalog.xml"
# svn variables
export SVN_EDITOR=vim
export VISUAL=vim
